<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agustinus Aldi Irawan Rahardja</title>
</head>
<body>
    <script type="module">
        import * as THREE from "./build/three.module.js";
        import { OrbitControls } from "./js/OrbitControls.js";

        let scene, camera, renderer, pointLight, ambientLight;
        let controls, cube;

        function init(){
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xababab);

            renderer = new THREE.WebGLRenderer({alpha:true, antialias:true});
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 25);

            document.addEventListener("keydown", onDocumentKeyDown, false);

            // controls = new OrbitControls(camera, renderer.domElement);
            
            //Light Cube
            pointLight = new THREE.PointLight(0xffffff);    
            ambientLight = new THREE.AmbientLight({
                color: 0xffffff,
                intensity: 0.212
            });
            scene.add(pointLight, ambientLight);
            pointLight.position.set (0, 0, 0)

            const geometry1 = new THREE.BoxGeometry( 1, 1, 1 );
            const material1 = new THREE.MeshBasicMaterial( {
                color: 0xFFFFFF
            } );
            cube = new THREE.Mesh( geometry1, material1 );
            scene.add( cube );

            //Right
            const geometry2 = new THREE.ConeGeometry( 2.5, 15, 8 );
            const material2 = new THREE.MeshPhysicalMaterial( {
                roughness: 0.6,
                metalness: 0.3,
                reflectivity: 0.5,
                color: 0x990000
            } );
            const UmbHead1 = new THREE.Mesh( geometry2, material2 );
            UmbHead1.position.set(8, 7, 0);

            const geometry3 = new THREE.CylinderGeometry( 0.5, 0.5, 5, 64 );
            const material3 = new THREE.MeshPhysicalMaterial( {
                roughness: 0.6,
                metalness: 0.3,
                reflectivity: 0.5,
                color: 0x000000
            } );
            const handle1 = new THREE.Mesh( geometry3, material3 );
            handle1.position.set(8, 0, 0);

            const geometry4 = new THREE.TorusGeometry( 1, 0.5, 30, 200, 3.1 );
            const material4 = new THREE.MeshPhysicalMaterial( {
                side: THREE.DoubleSide,
                roughness: 0.6,
                metalness: 0.3,
                reflectivity: 0.5,
                color: 0x000000 
            } );
            const handleArc1 = new THREE.Mesh( geometry4, material4 );
            handleArc1.rotation.x = Math.PI;
            handleArc1.position.set (7, -2.5, 0);

            scene.add( UmbHead1, handle1, handleArc1 );

            //Left
            const geometry5 = new THREE.ConeGeometry( 8, 3, 8, 1, true );
            const material5 = new THREE.MeshPhysicalMaterial( {
                side: THREE.DoubleSide,
                roughness: 0.2,
                reflectivity: 0.5,
                color: 0x990000
            } );
            const UmbHead2 = new THREE.Mesh( geometry5, material5 );
            UmbHead2.rotation.z = -Math.PI/2;
            UmbHead2.position.set(-6, 0, 0);

            const geometry6 = new THREE.CylinderGeometry( 0.5, 0.5, 10, 64 );
            const material6 = new THREE.MeshPhysicalMaterial( {
                roughness: 0.2,
                reflectivity: 0.5,
                color: 0x000000
            } );
            const handle2 = new THREE.Mesh( geometry6, material6 );
            handle2.rotation.z = -Math.PI/2;
            handle2.position.set(-10, 0, 0);

            const geometry7 = new THREE.TorusGeometry( 1, 0.5, 30, 200, 3.1 );
            const material7 = new THREE.MeshPhysicalMaterial( {
                side: THREE.DoubleSide,
                roughness: 0.2,
                reflectivity: 0.5,
                color: 0x000000 
            } );
            const handleArc2 = new THREE.Mesh( geometry7, material7 );
            handleArc2.rotation.x = Math.PI;
            handleArc2.rotation.z = Math.PI/2;
            handleArc2.position.set (-14.8, -1, 0);

            scene.add( UmbHead2, handle2, handleArc2 );

            animate();
        }
        
        function onDocumentKeyDown(event) {
            if (event.key == 'w'){
                cube.position.y += 0.5;
                pointLight.position.y += 0.5;
            }
            else if (event.key == 's'){
                cube.position.y -= 0.5;
                pointLight.position.y -= 0.5;
            }
            else if (event.key == 'd'){
                camera.position.x += 0.5;
            }
            else if (event.key == 'a'){
                camera.position.x -= 0.5;
            } 
        };

        function animate(){
            renderer.render(scene, camera);
            // controls.update();
            requestAnimationFrame(animate);
        }
        init();
    </script>
</body>
</html>